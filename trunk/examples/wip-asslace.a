
!macro basic_header {
	!byte $b, $08, $EF, $00, $9E, $32, $30, $36,$31, $00, $00, $00 
}

!to "asslace.png.prg", cbm    ; set output file and format
	*= $0801		; Start at C64 BASIC start
	+basic_header		; Call program header macro
    

	lda #$7f
	sta $dc0d      ; no timer IRQs
	lda $dc0d      ; clear timer IRQ flags

	lda	$d0
	lda     $D016 ;enable multicolor
	ora     #$10
	sta     $D016

	lda     #$BB ;enable bitmap mode
	sta     $D011

	lda     #$08 ; video matrix = 8000, bitmap base = a000
	sta     $D018

    lda     #0
	sta     $d020
	lda     #0
	sta     $d021

	ldx	#0
.memcpy
	lda	$2000, x
	sta	$d800, x
	lda	$2100, x
	sta	$d900, x
	lda	$2200, x
	sta	$da00, x
	lda	$2300, x
	sta	$db00, x
	dex
	bne	.memcpy

.loop
    lda $d012
    cmp #$ff
    bne .loop

	lda     #$16 ;vic base = $4000
	sta     $DD00

    nop
    nop
    nop
    nop

.loop2
    lda $d012
    cmp #$ff
    bne .loop2

	lda     #$15 ;vic base = $8000
	sta     $DD00

    nop
    nop
    nop
    nop

    jmp .loop

*= $4000
!bin "asslace.png1-v.bin"

*= $6000
!bin "asslace.png1.bin"

*= $8000
!bin "asslace.png2-v.bin"

*= $a000
!bin "asslace.png2.bin"

*= $2000
!bin "asslace.png-c.bin"

